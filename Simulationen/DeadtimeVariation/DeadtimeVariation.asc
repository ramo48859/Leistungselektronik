Version 4
SHEET 1 1404 1604
WIRE 832 -160 -240 -160
WIRE 1120 -160 832 -160
WIRE 1120 -112 1120 -160
WIRE 400 -32 16 -32
WIRE 592 -32 400 -32
WIRE 992 -32 672 -32
WIRE -240 16 -240 -160
WIRE 1120 32 1120 -48
WIRE 400 80 400 -32
WIRE -240 112 -240 96
WIRE 16 112 16 -32
WIRE 336 128 256 128
WIRE 832 128 832 -160
WIRE 992 176 992 -32
WIRE 1120 176 1120 112
WIRE 1120 176 992 176
WIRE 400 208 400 176
WIRE 592 208 400 208
WIRE 784 208 672 208
WIRE 1120 224 1120 176
WIRE 16 240 16 192
WIRE 176 240 16 240
WIRE 256 240 256 128
WIRE 400 240 400 208
WIRE 16 272 16 240
WIRE 256 288 256 240
WIRE 336 288 256 288
WIRE 832 288 832 224
WIRE 1120 288 832 288
WIRE 400 336 400 320
WIRE -32 352 -224 352
WIRE -224 368 -224 352
WIRE 832 464 832 288
WIRE 832 464 592 464
WIRE -224 512 -224 448
WIRE 16 512 16 368
WIRE 400 528 400 336
WIRE 592 528 592 464
WIRE 592 528 400 528
WIRE 832 528 832 464
WIRE 928 528 832 528
WIRE 1056 528 1008 528
WIRE 1296 528 1136 528
WIRE 1296 544 1296 528
WIRE 832 656 832 528
WIRE 1104 656 832 656
WIRE 400 736 400 672
WIRE 16 768 16 688
WIRE 336 784 256 784
WIRE 832 784 832 656
WIRE 1104 848 1104 656
WIRE 400 864 400 832
WIRE 592 864 400 864
WIRE 784 864 672 864
WIRE 16 896 16 848
WIRE 176 896 16 896
WIRE 256 896 256 784
WIRE 400 896 400 864
WIRE 1104 912 1104 896
WIRE 16 928 16 896
WIRE 256 944 256 896
WIRE 336 944 256 944
WIRE -32 1008 -224 1008
WIRE -224 1024 -224 1008
WIRE -224 1168 -224 1104
WIRE 16 1168 16 1024
WIRE 400 1168 400 992
WIRE 832 1168 832 880
WIRE 1104 1168 1104 912
WIRE -688 1360 -848 1360
WIRE 144 1424 -48 1424
WIRE -848 1504 -848 1360
WIRE -48 1504 -48 1424
FLAG -224 512 0
FLAG 16 512 0
FLAG -240 112 0
FLAG -224 1168 0
FLAG 16 1168 0
FLAG 400 1168 0
FLAG 832 1168 0
FLAG 1104 1168 0
FLAG 1296 544 0
FLAG 400 -32 U_BOOT
FLAG 16 688 Ubatt
FLAG 400 672 Ubatt
FLAG 832 -160 Ubatt
FLAG 832 528 Load
FLAG -224 352 HS_PWM
FLAG -224 1008 LS_PWM
FLAG -848 1584 0
FLAG -48 1584 0
SYMBOL res 0 96 R0
SYMATTR InstName R1
SYMATTR Value 1000
SYMBOL res 272 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 470
SYMBOL npn 336 80 R0
SYMATTR InstName Q1
SYMATTR Value BC817-40
SYMBOL pnp 336 336 M180
SYMATTR InstName Q2
SYMATTR Value BC807-40
SYMBOL nmos -32 272 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL voltage -224 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -389 122 Left 2
SYMATTR Value PULSE(3.3 0 {{{1-duty}*1m}+dead} 10n 10n {{duty*1m}-2*dead} 1m)
SYMATTR InstName V1
SYMBOL voltage -240 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 14
SYMBOL res 688 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 0
SYMBOL res 0 752 R0
SYMATTR InstName R4
SYMATTR Value 1000
SYMBOL res 272 880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 470
SYMBOL npn 336 736 R0
SYMATTR InstName Q3
SYMATTR Value BC817-40
SYMBOL pnp 336 992 M180
SYMATTR InstName Q4
SYMATTR Value BC807-40
SYMBOL nmos -32 928 R0
SYMATTR InstName M2
SYMATTR Value 2N7002
SYMBOL voltage -224 1008 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -391 112 Left 2
SYMATTR Value PULSE(0 3.3 {{1-duty}*1m} 10n 10n {duty*1m} 1m)
SYMATTR InstName V3
SYMBOL res 576 880 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName 0
SYMATTR Value 0
SYMBOL cap 1104 224 R0
SYMATTR InstName C1
SYMATTR Value 200n
SYMBOL res 1104 16 R0
SYMATTR InstName R7
SYMATTR Value 10
SYMBOL diode 1104 -112 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMATTR Description Schottky diode
SYMATTR Type schottky
SYMBOL nmos 784 784 R0
SYMATTR InstName M4
SYMATTR Value IRFZ44N
SYMBOL schottky 1120 912 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value RBR40NS30A
SYMATTR Description Zener Diode
SYMATTR Type zener
SYMBOL res 1152 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 0.2
SYMBOL ind 912 544 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 200µ
SYMBOL res 688 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 0.01
SYMBOL voltage -848 1488 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 3.3 {{1-duty}*1m} 10n 10n {duty*1m} 1m)
SYMBOL voltage -48 1488 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(3.3 0 {{{1-duty}*1m}+dead} 10n 10n {{duty*1m}-2*dead} 1m)
SYMBOL nmos 784 128 R0
SYMATTR InstName M3
SYMATTR Value IRFZ44N
TEXT -296 1192 Left 2 !.tran 0 60m 50m
TEXT -536 -296 Left 2 !.lib F:\\Dokumente\\Studium\\Master\\UE Leistungselektronik\\LTSpice_Models\\Standard.dio
TEXT -616 584 Left 2 !.step param dead 0n 200n 10n
TEXT -624 672 Left 2 !.param duty=0.5
TEXT -624 712 Left 2 ;.param dead=5000n
TEXT -624 752 Left 2 ;.ic v(Load)=1 v(U_BOOT)=1
TEXT -624 800 Left 2 !.meas U_Cap AVG V(U_BOOT,Load)
TEXT -624 832 Left 2 !.meas pout AVG V(N007)*I(R8)
TEXT -616 864 Left 2 !.meas pin AVG V(Ubatt)*I(V2)
TEXT -624 896 Left 2 !.meas Eff param Pout/Pin
TEXT -616 928 Left 2 !.meas I_Max MAX Id(M4)
